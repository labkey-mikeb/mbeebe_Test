import boto3

#ec2client = boto3.client('ec2')
#response = ec2client.describe_instances()
#for reservation in response["Reservations"]:
#    for instance in reservation["Instances"]:
        # This sample print will output entire Dictionary object
        # print(instance)
        # This will print will output the value of the Dictionary key 'InstanceId'
#        print(instance["InstanceId"])

ec2 = boto3.resource('ec2')

for i in ec2.instances.all():
    #print(i)
    intid = i.id
    inttype = i.instance_type
    #print (intid)
    #instanceid = instance.id
    for tag in i.tags:
        #print(tag)
        #print (tag)
        name = ""
        if "OURNAME" in tag['Key']:
            name=tag['Value']
        if "Name" in tag['Key']:
            name=tag['Value']
        if not name:
            name="No Name"
    print ("Instance ID: {0} is named {1} and is an instance type of {2}.".format(intid,name,inttype))


